<mat-card class="padding wide" data-aos="fade-up" *ngIf="!isLoading">
  <mat-card-title>
    <h1>Your Requested Documents</h1>
  </mat-card-title>
  <mat-card-content *ngIf="docApprovals.length >= 0">
    <table mat-table [dataSource]="docApprovals" class="mat-elevation-z5">
      <ng-container matColumnDef="docType">
        <th mat-header-cell *matHeaderCellDef>
          Document Type
        </th>
        <td mat-cell *matCellDef="let element">{{ element.documentType.name }}</td>
      </ng-container>
      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef>
          Description
        </th>
        <td mat-cell *matCellDef="let element">{{ element.description }}</td>
      </ng-container>
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>
          Status
        </th>
        <td mat-cell *matCellDef="let element">{{ getDocStatus(element) }}</td>
      </ng-container>
      <ng-container matColumnDef="requestDate">
        <th mat-header-cell *matHeaderCellDef>
          Request Date
        </th>
        <td mat-cell *matCellDef="let element">{{ getDocDate(element.startDate) }}</td>
      </ng-container>
      <ng-container matColumnDef="completionDate">
        <th mat-header-cell *matHeaderCellDef>
          Completion Date
        </th>
        <td mat-cell *matCellDef="let element">{{ getDocDate(element.endDate) }}</td>
      </ng-container>
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>
          Actions
        </th>
        <td mat-cell *matCellDef="let element">
          <div class="center">
            <button mat-flat-button color="primary" (click)="onSetDocStatus(element.id,false)" [disabled]="isLoading">
              {{ isLoading ? "LOADING..." : "APPROVE" }}
            </button>
            <button mat-flat-button color="warn" (click)="onSetDocStatus(element.id,true)" [disabled]="isLoading">
              {{ isLoading ? "LOADING..." : "DECLINE" }}
            </button>
          </div>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"
        [class.legend-passed]="!row.isPending && !row.isDeclined"
        [class.legend-waiting]="row.isPending && !row.isDeclined" [class.legend-notPassed]="row.isDeclined">
      </tr>
    </table>
  </mat-card-content>
  <mat-card-content *ngIf="docApprovals.length === 0">
    <h2>Looks like there are no document requests yet.</h2>
  </mat-card-content>
</mat-card>
<app-loader *ngIf="isLoading"></app-loader>